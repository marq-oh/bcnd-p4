exports.id=0,exports.modules={"./src/server/server.js":function(e,t,n){"use strict";n.r(t);var r=n("./build/contracts/FlightSuretyApp.json"),o=n("./build/contracts/FlightSuretyData.json"),s=n("./src/server/config.json"),a=n("web3"),c=n.n(a),u=n("express"),i=n.n(u);function l(e,t,n,r,o,s,a){try{var c=e[s](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var d=s.localhost,f=new c.a(new c.a.providers.WebsocketProvider(d.url.replace("http","ws")));f.eth.defaultAccount=f.eth.accounts[0];var g=new f.eth.Contract(r.abi,d.appAddress),h=new f.eth.Contract(o.abi,d.dataAddress),p=[],v=[0,10,20,30,40,50];f.eth.getAccounts((function(e,t){var n,r=t[0];h.methods.authorizeCaller(d.appAddress).send({from:r},(function(e,t){e?console.log(e):console.log("Configured authorized caller: ".concat(d.appAddress))})),(n=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<20)){e.next=11;break}return e.next=4,g.methods.registerOracle().send({from:t[n],value:fee,gas:gas}).catch((function(e){return console.log(e)}));case 4:return e.next=6,g.methods.getMyIndexes().call({from:t[n],gas:gas}).catch((function(e){return console.log(e)}));case 6:r=e.sent,console.log("[".concat(n,"] Oracle Registered: ").concat(r[0],", ").concat(r[1],", ").concat(r[2]));case 8:n++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var s=n.apply(e,t);function a(e){l(s,r,o,a,c,"next",e)}function c(e){l(s,r,o,a,c,"throw",e)}a(void 0)}))})()})),g.events.OracleRequest({fromBlock:0},(function(e,t){e?console.log(e):function(){for(var e=t.returnValues.index,n=t.returnValues.airline,r=t.returnValues.flight,o=t.returnValues.timestamp,s=v[Math.floor(Math.random()*v.length)],a=function(t){p[t].index.includes(e)&&g.methods.submitOracleResponse(e,n,r,o,s).send({from:p[t].address},(function(e,n){e?console.log(e):console.log("".concat(JSON.stringify(p[t]),": Status code ").concat(s))}))},c=0;c<p.length;c++)a(c)}()}));var m=i()();m.get("/api",(function(e,t){t.send({message:"An API for use with your Dapp!"})})),t.default=m}};