exports.id=0,exports.modules={"./src/server/server.js":function(e,o,t){"use strict";t.r(o);var n=t("./build/contracts/FlightSuretyApp.json"),s=t("./build/contracts/FlightSuretyData.json"),r=t("./src/server/config.json"),c=t("web3"),a=t.n(c),l=t("express"),i=t.n(l),u=r.localhost,d=new a.a(new a.a.providers.WebsocketProvider(u.url.replace("http","ws")));d.eth.defaultAccount=d.eth.accounts[0];var f=new d.eth.Contract(n.abi,u.appAddress),g=new d.eth.Contract(s.abi,u.dataAddress),h=[0,10,20,30,40,50],p=[];d.eth.getAccounts((function(e,o){var t=o[0];g.methods.authorizeCaller(u.appAddress).send({from:t},(function(e,o){e?console.log(e):console.log("Configured authorized caller: ".concat(u.appAddress))}));for(var n=f.methods.REGISTRATION_FEE().call({from:t}),s=function(e){f.methods.registerOracle().send({from:o[e],value:n,gas:3e6},(function(t,n){t?console.log(t):f.methods.getMyIndexes().call({from:o[e]},(function(t,n){if(t)console.log(t);else{var s={address:o[e],index:n};console.log("Oracle: ".concat(JSON.stringify(s))),p.push(s)}}))}))},r=0;r<20;r++)s(r)})),f.events.FlightStatusInfo({fromBlock:0},(function(e,o){e?console.log(e):console.log("Received flightstatusInfo event:  "+JSON.stringify(o))})),f.events.OracleRequest({fromBlock:0},(function(e,o){e?console.log(e):function(){for(var e=o.returnValues.index,t=o.returnValues.airline,n=o.returnValues.flight,s=o.returnValues.timestamp,r=h[Math.floor(Math.random()*h.length)],c=function(o){p[o].index.includes(e)&&f.methods.submitOracleResponse(e,t,n,s,r).send({from:p[o].address},(function(e,t){e?console.log(e):console.log("".concat(JSON.stringify(p[o]),": Status code ").concat(r))}))},a=0;a<p.length;a++)c(a)}()}));var m=i()();m.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})})),o.default=m}};