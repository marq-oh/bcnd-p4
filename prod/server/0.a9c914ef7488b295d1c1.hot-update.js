exports.id=0,exports.modules={"./src/server/server.js":function(e,o,s){"use strict";s.r(o);var t=s("./build/contracts/FlightSuretyApp.json"),n=s("./build/contracts/FlightSuretyData.json"),r=s("./src/server/config.json"),a=s("web3"),c=s.n(a),l=s("express"),i=s.n(l),u=r.localhost,d=new c.a(new c.a.providers.WebsocketProvider(u.url.replace("http","ws")));d.eth.defaultAccount=d.eth.accounts[0];var f=new d.eth.Contract(t.abi,u.appAddress),g=new d.eth.Contract(n.abi,u.dataAddress),h=[],p=[0,10,20,30,40,50];d.eth.getAccounts((function(e,o){var s=o[0];console.log(s),console.log(u.appAddress),g.methods.authorizeCaller(u.appAddress).send({from:s},(function(e,o){e?console.log(e):console.log("Configured authorized caller: ".concat(u.appAddress))}));for(var t=function(e){f.methods.registerOracle().send({from:o[e],value:d.utils.toWei("1","ether"),gas:45e5},(function(s,t){s?console.log(s):f.methods.getMyIndexes().call({from:o[e]},(function(s,t){if(s)console.log(s);else{var n={address:o[e],index:t};console.log("Oracle: ".concat(JSON.stringify(n))),h.push(n)}}))}))},n=20;n<40;n++)t(n)})),f.events.OracleRequest({fromBlock:0},(function(e,o){e?console.log(e):function(){for(var e=o.returnValues.index,s=o.returnValues.airline,t=o.returnValues.flight,n=o.returnValues.timestamp,r=p[Math.floor(Math.random()*p.length)],a=function(o){h[o].index.includes(e)&&f.methods.submitOracleResponse(e,s,t,n,r).send({from:h[o].address},(function(e,s){e?console.log(e):console.log("".concat(JSON.stringify(h[o]),": Status code ").concat(r))}))},c=0;c<h.length;c++)a(c)}()}));var m=i()();m.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})})),o.default=m}};